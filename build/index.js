!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.library=t(require("react")):e.library=t(e.react)}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(t,n){t.exports=e},function(e,t,n){var r=n(2),o=n(3);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var u=0;u<16;++u)t[i+u]=s[u];return t||o(s)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.r(t);var r=function(){function e(e,t,n){var r=this;void 0===n&&(n=!0),this.usedFields=[],this.$getListener=function(e){e.addListener(r.$update),-1==r.usedFields.indexOf(e)&&r.usedFields.push(e)},this.$update=function(){var e=r.usedFields;r.resetOnUpdate&&r.$removeListeners(),r.onUpdate(e)},this.model=e,this.onUpdate=t,this.resetOnUpdate=n}return e.prototype.$equals=function(e){return this.model.$equals(e)},e.prototype.$destroy=function(){this.$removeListeners()},e.prototype.$removeListeners=function(){var e=this;this.usedFields.forEach(function(t){t.removeListener(e.$update)}),this.usedFields=[]},e.createObservableModelClass=function(t){for(var n=new Function("cls","return class Observable"+t.name+" extends cls {}")(e),r=t;r&&r.prototype;)Object.getOwnPropertyNames(r.prototype).forEach(function(e){var t=r.prototype[e];"constructor"!=e&&t instanceof Function&&(n.prototype[e]=function(){var e=this.model.$getListener;this.model.$getListener=this.$getListener;var n=t.apply(this.model,arguments);return this.model.$getListener=e,n})}),r=r.__proto__;return n},e}(),o=function(){function e(t,n){this.listeners=[],this.model=n||e.model,this.value=t}return e.prototype.set=function(e){this.value=e,this.callListeners()},e.prototype.callListeners=function(){var e=this;this.listeners.forEach(function(t){return t(e.value)})},e.prototype.get=function(){return this.model.$getListener(this),this.value},e.prototype.addListener=function(e){-1==this.listeners.indexOf(e)&&this.listeners.push(e)},e.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);-1!=t&&this.listeners.splice(t,1)},e.setModel=function(e){this.model=e},e}(),i=n(1),s=n.n(i),u=function(){function e(){this.$getListener=function(){},this.$ID=s()(),o.setModel(this)}return e.prototype.$getID=function(){return this.$ID},e.prototype.$equals=function(e){return e.$getID()==this.$getID()},e.prototype.$getObservableModel=function(e,t){return void 0===t&&(t=!1),new(this.constructor.createObservableModelClass())(this,e,t)},e.prototype.$bindModel=function(e){var t=e.$getObservableModel(function(){}),n=this;return t.$getListener=function(){n.$getListener.apply(n,arguments)},t},e.createObservableModelClass=function(){return this.observableModelClass||(this.observableModelClass=r.createObservableModelClass(this)),this.observableModelClass},e}(),a=n(0);function l(e){var t;(t=e)&&"Provider"in t&&(e=Object(a.useContext)(e));var n=Object(a.useState)()[1],r=function(){return n({})},o=Object(a.useMemo)(function(){return e&&e.$getObservableModel(r)},[e]);return Object(a.useEffect)(function(){return function(){o&&o.$destroy()}},[]),o}n.d(t,"BaseModel",function(){return u}),n.d(t,"ObservableModel",function(){return r}),n.d(t,"Field",function(){return o}),n.d(t,"useModel",function(){return l})}])});